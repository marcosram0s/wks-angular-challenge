import{a as ze,d as m,e as F,f as Xe,g as We,h as j,i as H,j as Je,k as w,l as Qe}from"./chunk-SNA2FL52.js";import{a as Ge,c as Ve,e as qe,g as Ye,k as $e}from"./chunk-UT362E3C.js";import{$ as fe,$a as E,B as xe,Ba as we,E as Z,Eb as _,Fb as Y,Ia as b,Ka as Re,L as I,La as Ie,M as Ee,N as v,Na as M,Nb as He,O as ge,Ob as Be,P as Se,Q as X,Sa as Ae,Ta as De,Va as Le,Vb as Ze,W as p,Wa as c,Wb as B,Xa as A,Xb as Ke,Ya as Ne,Za as K,a as ue,ab as Ue,b as me,ba as P,bb as he,ca as O,cb as _e,db as r,e as k,eb as s,f as Me,fb as h,ga as W,gb as S,hb as g,ib as u,jb as J,kb as Q,la as y,m as N,ma as f,na as Te,pa as q,pb as C,q as ye,qb as D,rb as U,sb as Fe,vb as ee,wb as je,xb as be,ya as ke,z as V,za as a}from"./chunk-DPYPWN3N.js";function Ce(o){o||(fe(Ce),o=p(W));let t=new Me(e=>o.onDestroy(e.next.bind(e)));return e=>e.pipe(Ee(t))}function ve(o,t){let e=!t?.manualCleanup;e&&!t?.injector&&fe(ve);let n=e?t?.injector?.get(W)??p(W):null,i=at(t?.equal),l;t?.requireSync?l=q({kind:0},{equal:i}):l=q({kind:1,value:t?.initialValue},{equal:i});let R,Oe=o.subscribe({next:T=>l.set({kind:1,value:T}),error:T=>{if(t?.rejectErrors)throw T;l.set({kind:2,error:T})},complete:()=>{R?.()}});if(t?.requireSync&&l().kind===0)throw new ge(601,!1);return R=n?.onDestroy(Oe.unsubscribe.bind(Oe)),_(()=>{let T=l();switch(T.kind){case 1:return T.value;case 2:throw T.error;case 0:throw new ge(601,!1)}},{equal:t?.equal})}function at(o=Object.is){return(t,e)=>t.kind===1&&e.kind===1&&o(t.value,e.value)}var z=F({providedIn:"root"},H({loading:!1}),j(o=>({show(){m(o,{loading:!0})},hide(){m(o,{loading:!1})},toggle(){m(o,{loading:!o.loading()})},setLoading(t){m(o,{loading:t})}})));var te=class o{elementRef=p(Te);skeletonStore=p(z);width=f();height=f();shape=f("rect");isSkeletonActive=_(()=>this.skeletonStore.loading());hostStyles=_(()=>{if(!this.isSkeletonActive())return"";let e=[];return this.width()&&e.push(`width: ${this.width()}`),this.height()&&e.push(`height: ${this.height()}`),e.push("display: block"),e.join("; ")});getHostStyles(){return this.hostStyles()}constructor(){Y(()=>{let t=this.elementRef.nativeElement;this.isSkeletonActive()?this.applySkeletonStyles(t):this.resetSkeletonStyles(t)})}applySkeletonStyles(t){let e=window.getComputedStyle(t);if(t.dataset.originalDisplay||(t.dataset.originalDisplay=e.display),e.display==="inline"&&(t.style.display="inline-block"),!this.height()){let n=e.height;(n==="0px"||n==="auto")&&(t.style.minHeight="1rem")}!this.width()&&(e.display.includes("inline")||t.tagName==="SPAN")&&(t.style.minWidth="4rem"),this.addElementTypeClass(t)}resetSkeletonStyles(t){t.style.removeProperty("min-height"),t.style.removeProperty("min-width"),t.style.removeProperty("width"),t.style.removeProperty("height");let e=t.dataset.originalDisplay;e&&e!=="block"?t.style.display=e:t.style.removeProperty("display"),delete t.dataset.originalDisplay,t.classList.remove("skeleton-text","skeleton-avatar","skeleton-card","skeleton-button","skeleton-image")}addElementTypeClass(t){switch(t.tagName.toLowerCase()){case"span":case"p":case"h1":case"h2":case"h3":case"h4":case"h5":case"h6":t.classList.add("skeleton-text");break;case"button":t.classList.add("skeleton-button");break;case"img":t.classList.add("skeleton-image");break;case"div":t.classList.contains("avatar")||this.shape()==="circle"?t.classList.add("skeleton-avatar"):t.classList.contains("card")&&t.classList.add("skeleton-card");break}}static \u0275fac=function(e){return new(e||o)};static \u0275dir=Re({type:o,selectors:[["","appSkeleton",""]],hostVars:8,hostBindings:function(e,n){e&2&&(Ne(n.hostStyles()),A("skeleton-active",n.isSkeletonActive())("skeleton-circle",n.isSkeletonActive()&&n.shape()==="circle")("skeleton-rect",n.isSkeletonActive()&&n.shape()==="rect"))},inputs:{width:[1,"width"],height:[1,"height"],shape:[1,"shape"]}})};function st(o,t){if(o&1&&(r(0,"label",1),C(1),s()),o&2){let e=u();c("for",e.idInput()),a(),D(e.label())}}function ct(o,t){if(o&1){let e=S();r(0,"button",7),g("click",function(){P(e);let i=u();return O(i.clearSearch())}),h(1,"i",8),s()}}function lt(o,t){if(o&1&&(r(0,"span",6),C(1),s()),o&2){let e=u();c("id",e.errorId),a(),U(" ",e.error()," ")}}var dt=0,ne=class o{id=f();label=f();placeholder=f("Pesquisar...");error=f();disabled=f();uniqueId=`input-search-${dt++}`;idInput=_(()=>this.id()??this.uniqueId);errorId=`${this.uniqueId}-error`;value=q("");onChange=()=>{};onTouched=()=>{};writeValue(t){this.value.set(t??"")}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}onInputValueChange(t){let e=t.target;this.value.set(e.value),this.onChange(e.value)}onBlur(){this.onTouched()}clearSearch(){this.value.set(""),this.onChange("")}static \u0275fac=function(e){return new(e||o)};static \u0275cmp=b({type:o,selectors:[["app-input-search"]],inputs:{id:[1,"id"],label:[1,"label"],placeholder:[1,"placeholder"],error:[1,"error"],disabled:[1,"disabled"]},features:[Fe([{provide:Ge,useExisting:Se(()=>o),multi:!0}])],decls:7,vars:9,consts:[[1,"input-search-container"],[1,"input-search-label",3,"for"],[1,"input-search-wrapper"],[1,"input-search-icon","ri-search-line"],["type","text",1,"input-search",3,"input","blur","id","placeholder","value","disabled"],["type","button","aria-label","Limpar pesquisa",1,"input-search-clear"],[1,"input-search-error",3,"id"],["type","button","aria-label","Limpar pesquisa",1,"input-search-clear",3,"click"],[1,"ri-close-line"]],template:function(e,n){e&1&&(r(0,"fieldset",0),M(1,st,2,2,"label",1),r(2,"div",2),h(3,"i",3),r(4,"input",4),g("input",function(l){return n.onInputValueChange(l)})("blur",function(){return n.onBlur()}),s(),M(5,ct,2,0,"button",5),s(),M(6,lt,2,2,"span",6),s()),e&2&&(a(),E(n.label()?1:-1),a(3),A("invalid",!!n.error()),c("id",n.idInput())("placeholder",n.placeholder())("value",n.value())("disabled",n.disabled()),a(),E(n.value()?5:-1),a(),E(n.error()?6:-1))},styles:["@keyframes _ngcontent-%COMP%_shimmer{0%{background-position:-600px 0}to{background-position:600px 0}}.skeleton-active[_ngcontent-%COMP%]{position:relative;overflow:hidden;background-color:#e8e8e8;background-image:linear-gradient(90deg,transparent,rgba(255,255,255,.6),transparent);background-size:600px 100%;background-repeat:no-repeat;animation:_ngcontent-%COMP%_shimmer 1.5s ease-in-out infinite;color:transparent;-webkit-user-select:none;user-select:none;pointer-events:none}.skeleton-active[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{visibility:hidden}.skeleton-circle[_ngcontent-%COMP%]{border-radius:50%}.skeleton-rect[_ngcontent-%COMP%]{border-radius:6px}.skeleton-text[_ngcontent-%COMP%]{height:1em;min-width:4rem;border-radius:4px;display:inline-block}.skeleton-avatar[_ngcontent-%COMP%]{width:3rem;height:3rem;aspect-ratio:1;border-radius:50%}.skeleton-card[_ngcontent-%COMP%]{border-radius:8px;padding:1rem;min-height:8rem}.skeleton-button[_ngcontent-%COMP%]{height:3rem;min-width:4rem;border-radius:6px;display:inline-flex;align-items:center;justify-content:center}.skeleton-button.skeleton-circle[_ngcontent-%COMP%]{width:2.5rem;min-width:2.5rem;border-radius:50%}*[_ngcontent-%COMP%]:focus{outline:none}*[_ngcontent-%COMP%]:focus-visible{outline:2px solid var(--color-primary, #007bff);outline-offset:2px;border-radius:4px}button[_ngcontent-%COMP%]:focus-visible, a[_ngcontent-%COMP%]:focus-visible, input[_ngcontent-%COMP%]:focus-visible, select[_ngcontent-%COMP%]:focus-visible, textarea[_ngcontent-%COMP%]:focus-visible, [role=button][_ngcontent-%COMP%]:focus-visible, [role=link][_ngcontent-%COMP%]:focus-visible, [tabindex][_ngcontent-%COMP%]:focus-visible{outline:2px solid var(--color-primary, #007bff);outline-offset:2px;border-radius:4px;box-shadow:0 0 0 2px #007bff33}@media (prefers-contrast: high){*[_ngcontent-%COMP%]:focus-visible{outline:3px solid CanvasText;outline-offset:2px}}@media (prefers-reduced-motion: no-preference){*[_ngcontent-%COMP%]:focus-visible{transition:outline-color .15s ease-in-out,box-shadow .15s ease-in-out}}.skip-link[_ngcontent-%COMP%]{position:absolute;top:-100px;left:50%;transform:translate(-50%);background:var(--color-primary, #007bff);color:#fff;padding:8px 16px;text-decoration:none;border-radius:4px;font-weight:600;z-index:9999}.skip-link[_ngcontent-%COMP%]:focus{top:16px}.input-search-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem;border:none}.input-search-label[_ngcontent-%COMP%]{font-weight:500;font-size:.875rem;color:#374151}.input-search-wrapper[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center}.input-search-icon[_ngcontent-%COMP%]{position:absolute;left:.75rem;z-index:1;color:#4b5563;pointer-events:none;font-size:18px}.input-search[_ngcontent-%COMP%]{width:100%;border:1px solid #6b7280;transition:border-color .2s ease-in-out;border-radius:.5rem;padding:.5rem 3rem;font-size:1rem}.input-search[_ngcontent-%COMP%]:focus{outline:1px solid #f5d0a8;outline-offset:1px}.input-search.invalid[_ngcontent-%COMP%]{border-color:#dc2626}.input-search[_ngcontent-%COMP%]:disabled{background-color:#d1d5db;cursor:not-allowed;color:#4b5563}.input-search[_ngcontent-%COMP%]::placeholder{color:#4b5563}.input-search-clear[_ngcontent-%COMP%]{position:absolute;right:.75rem;background:none;border:none;padding:.25rem;cursor:pointer;color:#4b5563;display:flex;align-items:center;justify-content:center;border-radius:50%;transition:all .2s ease-in-out;font-size:16px}.input-search-clear[_ngcontent-%COMP%]:hover{background-color:#f3f4f6;color:#1f2937}.input-search-clear[_ngcontent-%COMP%]:focus{outline:1px solid #f5d0a8;outline-offset:1px}.input-search-error[_ngcontent-%COMP%]{color:#dc2626;padding:0 .75rem;font-size:.75rem}"],changeDetection:0})};var pt=["*"],G=class o{static \u0275fac=function(e){return new(e||o)};static \u0275cmp=b({type:o,selectors:[["app-card"]],ngContentSelectors:pt,decls:2,vars:0,consts:[[1,"card"]],template:function(e,n){e&1&&(J(),r(0,"article",0),Q(1),s())},styles:["@keyframes _ngcontent-%COMP%_shimmer{0%{background-position:-600px 0}to{background-position:600px 0}}.skeleton-active[_ngcontent-%COMP%]{position:relative;overflow:hidden;background-color:#e8e8e8;background-image:linear-gradient(90deg,transparent,rgba(255,255,255,.6),transparent);background-size:600px 100%;background-repeat:no-repeat;animation:_ngcontent-%COMP%_shimmer 1.5s ease-in-out infinite;color:transparent;-webkit-user-select:none;user-select:none;pointer-events:none}.skeleton-active[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{visibility:hidden}.skeleton-circle[_ngcontent-%COMP%]{border-radius:50%}.skeleton-rect[_ngcontent-%COMP%]{border-radius:6px}.skeleton-text[_ngcontent-%COMP%]{height:1em;min-width:4rem;border-radius:4px;display:inline-block}.skeleton-avatar[_ngcontent-%COMP%]{width:3rem;height:3rem;aspect-ratio:1;border-radius:50%}.skeleton-card[_ngcontent-%COMP%]{border-radius:8px;padding:1rem;min-height:8rem}.skeleton-button[_ngcontent-%COMP%]{height:3rem;min-width:4rem;border-radius:6px;display:inline-flex;align-items:center;justify-content:center}.skeleton-button.skeleton-circle[_ngcontent-%COMP%]{width:2.5rem;min-width:2.5rem;border-radius:50%}*[_ngcontent-%COMP%]:focus{outline:none}*[_ngcontent-%COMP%]:focus-visible{outline:2px solid var(--color-primary, #007bff);outline-offset:2px;border-radius:4px}button[_ngcontent-%COMP%]:focus-visible, a[_ngcontent-%COMP%]:focus-visible, input[_ngcontent-%COMP%]:focus-visible, select[_ngcontent-%COMP%]:focus-visible, textarea[_ngcontent-%COMP%]:focus-visible, [role=button][_ngcontent-%COMP%]:focus-visible, [role=link][_ngcontent-%COMP%]:focus-visible, [tabindex][_ngcontent-%COMP%]:focus-visible{outline:2px solid var(--color-primary, #007bff);outline-offset:2px;border-radius:4px;box-shadow:0 0 0 2px #007bff33}@media (prefers-contrast: high){*[_ngcontent-%COMP%]:focus-visible{outline:3px solid CanvasText;outline-offset:2px}}@media (prefers-reduced-motion: no-preference){*[_ngcontent-%COMP%]:focus-visible{transition:outline-color .15s ease-in-out,box-shadow .15s ease-in-out}}.skip-link[_ngcontent-%COMP%]{position:absolute;top:-100px;left:50%;transform:translate(-50%);background:var(--color-primary, #007bff);color:#fff;padding:8px 16px;text-decoration:none;border-radius:4px;font-weight:600;z-index:9999}.skip-link[_ngcontent-%COMP%]:focus{top:16px}.card[_ngcontent-%COMP%]{padding:1rem;border:1px solid #ffffff;border-radius:.75rem;box-shadow:0 .25rem .5rem #d1d5db}"],changeDetection:0})};var et={DEFAULT_MESSAGE:"Nenhum item encontrado.",DEFAULT_ICON:"search_off",BUTTON_TEXT:"Tente novamente",BUTTON_COLOR:"primary",CLEAR_BUTTON_TEXT:"Limpar pesquisa",CLEAR_BUTTON_COLOR:"secondary"};function ut(o,t){if(o&1&&h(0,"i",5),o&2){let e=u();K(e.icon())}}var oe=class o{constants=et;message=f(this.constants.DEFAULT_MESSAGE);icon=f(this.constants.DEFAULT_ICON);retryEvent=y();buttonEvent=y();onButtonClick(){this.buttonEvent.emit()}onRetryClick(){this.retryEvent.emit()}static \u0275fac=function(e){return new(e||o)};static \u0275cmp=b({type:o,selectors:[["app-empty-list"]],inputs:{message:[1,"message"],icon:[1,"icon"]},outputs:{retryEvent:"retryEvent",buttonEvent:"buttonEvent"},decls:7,vars:6,consts:[[1,"empty-list-container"],[1,"empty-list-icon",3,"class"],[1,"empty-list-message"],[1,"empty-list-actions"],[3,"clickEvent","text","color"],[1,"empty-list-icon"]],template:function(e,n){e&1&&(r(0,"div",0),M(1,ut,1,2,"i",1),r(2,"p",2),C(3),s(),r(4,"div",3)(5,"app-button",4),g("clickEvent",function(){return n.onButtonClick()}),s(),r(6,"app-button",4),g("clickEvent",function(){return n.onRetryClick()}),s()()()),e&2&&(a(),E(n.icon()?1:-1),a(2),D(n.message()),a(2),c("text",n.constants.CLEAR_BUTTON_TEXT)("color",n.constants.CLEAR_BUTTON_COLOR),a(),c("text",n.constants.BUTTON_TEXT)("color",n.constants.BUTTON_COLOR))},dependencies:[B],styles:["@keyframes _ngcontent-%COMP%_shimmer{0%{background-position:-600px 0}to{background-position:600px 0}}.skeleton-active[_ngcontent-%COMP%]{position:relative;overflow:hidden;background-color:#e8e8e8;background-image:linear-gradient(90deg,transparent,rgba(255,255,255,.6),transparent);background-size:600px 100%;background-repeat:no-repeat;animation:_ngcontent-%COMP%_shimmer 1.5s ease-in-out infinite;color:transparent;-webkit-user-select:none;user-select:none;pointer-events:none}.skeleton-active[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{visibility:hidden}.skeleton-circle[_ngcontent-%COMP%]{border-radius:50%}.skeleton-rect[_ngcontent-%COMP%]{border-radius:6px}.skeleton-text[_ngcontent-%COMP%]{height:1em;min-width:4rem;border-radius:4px;display:inline-block}.skeleton-avatar[_ngcontent-%COMP%]{width:3rem;height:3rem;aspect-ratio:1;border-radius:50%}.skeleton-card[_ngcontent-%COMP%]{border-radius:8px;padding:1rem;min-height:8rem}.skeleton-button[_ngcontent-%COMP%]{height:3rem;min-width:4rem;border-radius:6px;display:inline-flex;align-items:center;justify-content:center}.skeleton-button.skeleton-circle[_ngcontent-%COMP%]{width:2.5rem;min-width:2.5rem;border-radius:50%}*[_ngcontent-%COMP%]:focus{outline:none}*[_ngcontent-%COMP%]:focus-visible{outline:2px solid var(--color-primary, #007bff);outline-offset:2px;border-radius:4px}button[_ngcontent-%COMP%]:focus-visible, a[_ngcontent-%COMP%]:focus-visible, input[_ngcontent-%COMP%]:focus-visible, select[_ngcontent-%COMP%]:focus-visible, textarea[_ngcontent-%COMP%]:focus-visible, [role=button][_ngcontent-%COMP%]:focus-visible, [role=link][_ngcontent-%COMP%]:focus-visible, [tabindex][_ngcontent-%COMP%]:focus-visible{outline:2px solid var(--color-primary, #007bff);outline-offset:2px;border-radius:4px;box-shadow:0 0 0 2px #007bff33}@media (prefers-contrast: high){*[_ngcontent-%COMP%]:focus-visible{outline:3px solid CanvasText;outline-offset:2px}}@media (prefers-reduced-motion: no-preference){*[_ngcontent-%COMP%]:focus-visible{transition:outline-color .15s ease-in-out,box-shadow .15s ease-in-out}}.skip-link[_ngcontent-%COMP%]{position:absolute;top:-100px;left:50%;transform:translate(-50%);background:var(--color-primary, #007bff);color:#fff;padding:8px 16px;text-decoration:none;border-radius:4px;font-weight:600;z-index:9999}.skip-link[_ngcontent-%COMP%]:focus{top:16px}.empty-list-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:1.5rem;text-align:center;color:#4b5563;margin-top:3rem}.empty-list-icon[_ngcontent-%COMP%]{font-size:2rem;margin-bottom:1rem;opacity:.7}.empty-list-message[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:500;margin-bottom:1rem}.empty-list-actions[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:center;gap:.75rem;margin-top:1rem}"],changeDetection:0})};var tt={ANIMATION_DURATION:500};var ie=F({providedIn:"root"},H({isOpen:!1,isClosing:!1,data:{title:""}}),j(o=>{let e=p(we).createRenderer(null,null),n=null;return{onAfterClosed(i){n=i},open(i){e.setStyle(document.body,"overflow","hidden"),m(o,{isOpen:!0,isClosing:!1,data:i})},startClosing:w(k(v(()=>{m(o,{isClosing:!0})}),Z(tt.ANIMATION_DURATION),v(()=>{e.removeStyle(document.body,"overflow"),m(o,{isOpen:!1,isClosing:!1}),n&&(n(),n=null)}))),close(){o.isOpen()&&this.startClosing()}}}));var mt=["*"];function gt(o,t){if(o&1){let e=S();r(0,"div",2)(1,"article",3,0)(3,"header",4)(4,"h3",5),C(5),s(),r(6,"button",6),g("click",function(){P(e);let i=u();return O(i.close())}),h(7,"i",7),s()(),r(8,"section",8),Q(9),s()()()}if(o&2){let e=u();A("closing",e.modalStore.isClosing()),a(),A("closing",e.modalStore.isClosing()),Le("aria-labelledby","modal-title"),a(4),U(" ",e.modalStore.data().title," ")}}var re=class o{modalStore=p(ie);onKeydownHandler(){this.close()}close(){this.modalStore.close()}static \u0275fac=function(e){return new(e||o)};static \u0275cmp=b({type:o,selectors:[["app-modal-right"]],hostBindings:function(e,n){e&1&&g("keydown.escape",function(){return n.onKeydownHandler()},!1,ke)},ngContentSelectors:mt,decls:1,vars:1,consts:[["modal",""],[1,"modal-right-overlay",3,"closing"],[1,"modal-right-overlay"],["role","dialog","aria-modal","true","tabindex","0",1,"modal-right-card"],[1,"modal-right-header"],["id","modal-title",1,"modal-right-title"],["type","button","aria-label","Fechar modal","appFocus","",1,"modal-right-close",3,"click"],[1,"ri-close-line"],[1,"modal-right-body"]],template:function(e,n){e&1&&(J(),M(0,gt,10,6,"div",1)),e&2&&E(n.modalStore.isOpen()?0:-1)},dependencies:[Ze],styles:["@keyframes _ngcontent-%COMP%_shimmer{0%{background-position:-600px 0}to{background-position:600px 0}}.skeleton-active[_ngcontent-%COMP%]{position:relative;overflow:hidden;background-color:#e8e8e8;background-image:linear-gradient(90deg,transparent,rgba(255,255,255,.6),transparent);background-size:600px 100%;background-repeat:no-repeat;animation:_ngcontent-%COMP%_shimmer 1.5s ease-in-out infinite;color:transparent;-webkit-user-select:none;user-select:none;pointer-events:none}.skeleton-active[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{visibility:hidden}.skeleton-circle[_ngcontent-%COMP%]{border-radius:50%}.skeleton-rect[_ngcontent-%COMP%]{border-radius:6px}.skeleton-text[_ngcontent-%COMP%]{height:1em;min-width:4rem;border-radius:4px;display:inline-block}.skeleton-avatar[_ngcontent-%COMP%]{width:3rem;height:3rem;aspect-ratio:1;border-radius:50%}.skeleton-card[_ngcontent-%COMP%]{border-radius:8px;padding:1rem;min-height:8rem}.skeleton-button[_ngcontent-%COMP%]{height:3rem;min-width:4rem;border-radius:6px;display:inline-flex;align-items:center;justify-content:center}.skeleton-button.skeleton-circle[_ngcontent-%COMP%]{width:2.5rem;min-width:2.5rem;border-radius:50%}*[_ngcontent-%COMP%]:focus{outline:none}*[_ngcontent-%COMP%]:focus-visible{outline:2px solid var(--color-primary, #007bff);outline-offset:2px;border-radius:4px}button[_ngcontent-%COMP%]:focus-visible, a[_ngcontent-%COMP%]:focus-visible, input[_ngcontent-%COMP%]:focus-visible, select[_ngcontent-%COMP%]:focus-visible, textarea[_ngcontent-%COMP%]:focus-visible, [role=button][_ngcontent-%COMP%]:focus-visible, [role=link][_ngcontent-%COMP%]:focus-visible, [tabindex][_ngcontent-%COMP%]:focus-visible{outline:2px solid var(--color-primary, #007bff);outline-offset:2px;border-radius:4px;box-shadow:0 0 0 2px #007bff33}@media (prefers-contrast: high){*[_ngcontent-%COMP%]:focus-visible{outline:3px solid CanvasText;outline-offset:2px}}@media (prefers-reduced-motion: no-preference){*[_ngcontent-%COMP%]:focus-visible{transition:outline-color .15s ease-in-out,box-shadow .15s ease-in-out}}.skip-link[_ngcontent-%COMP%]{position:absolute;top:-100px;left:50%;transform:translate(-50%);background:var(--color-primary, #007bff);color:#fff;padding:8px 16px;text-decoration:none;border-radius:4px;font-weight:600;z-index:9999}.skip-link[_ngcontent-%COMP%]:focus{top:16px}.modal-right-overlay[_ngcontent-%COMP%]{position:fixed;display:flex;justify-content:flex-end;inset:0;background-color:#0003;z-index:2000;transition:background-color .6s ease}.modal-right-overlay.closing[_ngcontent-%COMP%]{background-color:#0000}.modal-right-card[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding:1.5rem;width:100%;max-width:28rem;height:100vh;background-color:#fff;box-shadow:0 .75rem 1rem #0000004d;animation:_ngcontent-%COMP%_slideInFromRight .6s ease-in-out}.modal-right-card[_ngcontent-%COMP%]:focus{outline:1px solid #f5d0a8;outline-offset:1px}.modal-right-card.closing[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_slideOutToRight .6s ease-in-out}.modal-right-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding-bottom:1.5rem;border-bottom:1px solid #f3f4f6}.modal-right-header[_ngcontent-%COMP%]   .modal-right-title[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:500;color:#111827}.modal-right-header[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{cursor:pointer;transition:color .2s}.modal-right-header[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]:hover{color:#c55a0d}.modal-right-close[_ngcontent-%COMP%]{border:none;border-radius:.75rem;padding:.25rem}.modal-right-close[_ngcontent-%COMP%]:focus{outline:2px solid #f5d0a8;outline-offset:2px}.modal-right-body[_ngcontent-%COMP%]{flex-grow:1;overflow-y:auto}@keyframes _ngcontent-%COMP%_slideInFromRight{0%{transform:translate(100%);opacity:0}to{transform:translate(0);opacity:1}}@keyframes _ngcontent-%COMP%_slideOutToRight{0%{transform:translate(0);opacity:1}to{transform:translate(100%);opacity:0}}"],changeDetection:0})};var nt={CURRENCY:"BRL",TITLE_TRUNCATE_LIMIT:20,PRIORITY_THRESHOLD:9,ICONS:{EDIT:"edit-line",DELETE:"delete-bin-7-line"},COLORS:{PRIMARY:"primary",ERROR:"error"},IMAGE_ALT_PREFIX:"Imagem do produto: ",EDIT_ARIA_PREFIX:"Editar produto ",DELETE_ARIA_PREFIX:"Excluir produto "},ot={SIZES:{IMAGE_FULL:"100%",CATEGORY_WIDTH:"40%",CATEGORY_HEIGHT:"0.75rem",TITLE_WIDTH:"80%",TITLE_HEIGHT:"1rem",PRICE_WIDTH:"50%",PRICE_HEIGHT:"1.5rem",BUTTON_SIZE:"20px"},SKELETON_SHAPE:"rect"};var Pe={DEFAULT_LIMIT:50,DEFAULT_TRAIL:"..."};var ae=class o{transform(t,e=Pe.DEFAULT_LIMIT,n=Pe.DEFAULT_TRAIL){return t?t.length<=e?t:t.substring(0,e)+n:""}static \u0275fac=function(e){return new(e||o)};static \u0275pipe=Ie({name:"truncate",type:o,pure:!0})};var se=class o{constants=nt;product=f.required();deleteEvent=y();editEvent=y();onDelete(){this.deleteEvent.emit(this.product().id)}onEdit(){this.editEvent.emit(this.product().id)}static \u0275fac=function(e){return new(e||o)};static \u0275cmp=b({type:o,selectors:[["app-product-card"]],inputs:{product:[1,"product"]},outputs:{deleteEvent:"deleteEvent",editEvent:"editEvent"},decls:17,vars:22,consts:[[1,"product-card"],[1,"product-image"],[3,"src","alt","fill","priority"],[1,"product-details"],[1,"product-category"],[1,"product-title",3,"id"],[1,"product-price"],[1,"product-actions"],[3,"clickEvent","color","icon","ariaLabel"],[3,"clickEvent","icon","color","ariaLabel"]],template:function(e,n){e&1&&(r(0,"div",0)(1,"section",1),h(2,"app-image",2),s(),r(3,"app-card")(4,"section",3)(5,"span",4),C(6),ee(7,"uppercase"),s(),r(8,"h2",5),C(9),ee(10,"truncate"),s(),r(11,"p",6),C(12),ee(13,"currency"),s()(),r(14,"section",7)(15,"app-button",8),g("clickEvent",function(){return n.onEdit()}),s(),r(16,"app-button",9),g("clickEvent",function(){return n.onDelete()}),s()()()()),e&2&&(a(2),c("src",n.product().image)("alt",n.constants.IMAGE_ALT_PREFIX+n.product().title)("fill",!0)("priority",n.product().id<=n.constants.PRIORITY_THRESHOLD),a(4),D(je(7,14,n.product().category)),a(2),c("id","product-title-"+n.product().id),a(),U(" ",be(10,16,n.product().title,n.constants.TITLE_TRUNCATE_LIMIT)," "),a(3),D(be(13,19,n.product().price,n.constants.CURRENCY)),a(3),c("color",n.constants.COLORS.PRIMARY)("icon",n.constants.ICONS.EDIT)("ariaLabel",n.constants.EDIT_ARIA_PREFIX+n.product().title),a(),c("icon",n.constants.ICONS.DELETE)("color",n.constants.COLORS.ERROR)("ariaLabel",n.constants.DELETE_ARIA_PREFIX+n.product().title))},dependencies:[Be,G,Ke,B,ae,He],styles:["@keyframes _ngcontent-%COMP%_shimmer{0%{background-position:-600px 0}to{background-position:600px 0}}.skeleton-active[_ngcontent-%COMP%]{position:relative;overflow:hidden;background-color:#e8e8e8;background-image:linear-gradient(90deg,transparent,rgba(255,255,255,.6),transparent);background-size:600px 100%;background-repeat:no-repeat;animation:_ngcontent-%COMP%_shimmer 1.5s ease-in-out infinite;color:transparent;-webkit-user-select:none;user-select:none;pointer-events:none}.skeleton-active[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{visibility:hidden}.skeleton-circle[_ngcontent-%COMP%]{border-radius:50%}.skeleton-rect[_ngcontent-%COMP%]{border-radius:6px}.skeleton-text[_ngcontent-%COMP%]{height:1em;min-width:4rem;border-radius:4px;display:inline-block}.skeleton-avatar[_ngcontent-%COMP%]{width:3rem;height:3rem;aspect-ratio:1;border-radius:50%}.skeleton-card[_ngcontent-%COMP%]{border-radius:8px;padding:1rem;min-height:8rem}.skeleton-button[_ngcontent-%COMP%]{height:3rem;min-width:4rem;border-radius:6px;display:inline-flex;align-items:center;justify-content:center}.skeleton-button.skeleton-circle[_ngcontent-%COMP%]{width:2.5rem;min-width:2.5rem;border-radius:50%}*[_ngcontent-%COMP%]:focus{outline:none}*[_ngcontent-%COMP%]:focus-visible{outline:2px solid var(--color-primary, #007bff);outline-offset:2px;border-radius:4px}button[_ngcontent-%COMP%]:focus-visible, a[_ngcontent-%COMP%]:focus-visible, input[_ngcontent-%COMP%]:focus-visible, select[_ngcontent-%COMP%]:focus-visible, textarea[_ngcontent-%COMP%]:focus-visible, [role=button][_ngcontent-%COMP%]:focus-visible, [role=link][_ngcontent-%COMP%]:focus-visible, [tabindex][_ngcontent-%COMP%]:focus-visible{outline:2px solid var(--color-primary, #007bff);outline-offset:2px;border-radius:4px;box-shadow:0 0 0 2px #007bff33}@media (prefers-contrast: high){*[_ngcontent-%COMP%]:focus-visible{outline:3px solid CanvasText;outline-offset:2px}}@media (prefers-reduced-motion: no-preference){*[_ngcontent-%COMP%]:focus-visible{transition:outline-color .15s ease-in-out,box-shadow .15s ease-in-out}}.skip-link[_ngcontent-%COMP%]{position:absolute;top:-100px;left:50%;transform:translate(-50%);background:var(--color-primary, #007bff);color:#fff;padding:8px 16px;text-decoration:none;border-radius:4px;font-weight:600;z-index:9999}.skip-link[_ngcontent-%COMP%]:focus{top:16px}.product-card[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:stretch;height:100%}.product-details[_ngcontent-%COMP%]{padding-bottom:1rem;display:flex;flex-direction:column;gap:.5rem}.product-details[_ngcontent-%COMP%]   .product-category[_ngcontent-%COMP%]{font-size:.75rem;font-weight:400;color:#803e0c}.product-details[_ngcontent-%COMP%]   .product-title[_ngcontent-%COMP%]{font-size:1rem;font-weight:500;color:#000}.product-details[_ngcontent-%COMP%]   .product-price[_ngcontent-%COMP%]{font-weight:700;font-size:1.5rem;color:#062c48}.product-actions[_ngcontent-%COMP%]{display:flex;align-items:stretch;justify-content:center;gap:.75rem;border-top:1px solid #d1d5db;padding-top:1rem}.product-image[_ngcontent-%COMP%]{flex:1;width:100%;height:200px;min-height:200px;position:relative;background-color:#9ca3af33;display:flex;align-items:center;justify-content:center;border-top-left-radius:.75rem;border-top-right-radius:.75rem;padding:1rem;overflow:hidden}[_nghost-%COMP%]     .card{border-top-left-radius:0!important;border-top-right-radius:0!important;border-top:none!important}"],changeDetection:0})};var ce=class o{constants=ot;static \u0275fac=function(e){return new(e||o)};static \u0275cmp=b({type:o,selectors:[["app-product-card-skeleton"]],decls:11,vars:14,consts:[[1,"product-card"],[1,"product-image"],["appSkeleton","","aria-hidden","true",3,"width","height"],[1,"product-details"],["appSkeleton","","aria-hidden","true",1,"product-category",3,"width","height"],["appSkeleton","","aria-hidden","true",1,"product-title",3,"width","height"],["appSkeleton","","aria-hidden","true",1,"product-price",3,"width","height"],[1,"product-actions"],["disabled","","appSkeleton","","aria-hidden","true",3,"width","height","shape"]],template:function(e,n){e&1&&(r(0,"div",0)(1,"section",1),h(2,"div",2),s(),r(3,"app-card")(4,"section",3),h(5,"span",4)(6,"h2",5)(7,"p",6),s(),r(8,"section",7),h(9,"button",8)(10,"button",8),s()()()),e&2&&(a(2),c("width",n.constants.SIZES.IMAGE_FULL)("height",n.constants.SIZES.IMAGE_FULL),a(3),c("width",n.constants.SIZES.CATEGORY_WIDTH)("height",n.constants.SIZES.CATEGORY_HEIGHT),a(),c("width",n.constants.SIZES.TITLE_WIDTH)("height",n.constants.SIZES.TITLE_HEIGHT),a(),c("width",n.constants.SIZES.PRICE_WIDTH)("height",n.constants.SIZES.PRICE_HEIGHT),a(2),c("width",n.constants.SIZES.BUTTON_SIZE)("height",n.constants.SIZES.BUTTON_SIZE)("shape",n.constants.SKELETON_SHAPE),a(),c("width",n.constants.SIZES.BUTTON_SIZE)("height",n.constants.SIZES.BUTTON_SIZE)("shape",n.constants.SKELETON_SHAPE))},dependencies:[te,G],styles:["@keyframes _ngcontent-%COMP%_shimmer{0%{background-position:-600px 0}to{background-position:600px 0}}.skeleton-active[_ngcontent-%COMP%]{position:relative;overflow:hidden;background-color:#e8e8e8;background-image:linear-gradient(90deg,transparent,rgba(255,255,255,.6),transparent);background-size:600px 100%;background-repeat:no-repeat;animation:_ngcontent-%COMP%_shimmer 1.5s ease-in-out infinite;color:transparent;-webkit-user-select:none;user-select:none;pointer-events:none}.skeleton-active[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{visibility:hidden}.skeleton-circle[_ngcontent-%COMP%]{border-radius:50%}.skeleton-rect[_ngcontent-%COMP%]{border-radius:6px}.skeleton-text[_ngcontent-%COMP%]{height:1em;min-width:4rem;border-radius:4px;display:inline-block}.skeleton-avatar[_ngcontent-%COMP%]{width:3rem;height:3rem;aspect-ratio:1;border-radius:50%}.skeleton-card[_ngcontent-%COMP%]{border-radius:8px;padding:1rem;min-height:8rem}.skeleton-button[_ngcontent-%COMP%]{height:3rem;min-width:4rem;border-radius:6px;display:inline-flex;align-items:center;justify-content:center}.skeleton-button.skeleton-circle[_ngcontent-%COMP%]{width:2.5rem;min-width:2.5rem;border-radius:50%}*[_ngcontent-%COMP%]:focus{outline:none}*[_ngcontent-%COMP%]:focus-visible{outline:2px solid var(--color-primary, #007bff);outline-offset:2px;border-radius:4px}button[_ngcontent-%COMP%]:focus-visible, a[_ngcontent-%COMP%]:focus-visible, input[_ngcontent-%COMP%]:focus-visible, select[_ngcontent-%COMP%]:focus-visible, textarea[_ngcontent-%COMP%]:focus-visible, [role=button][_ngcontent-%COMP%]:focus-visible, [role=link][_ngcontent-%COMP%]:focus-visible, [tabindex][_ngcontent-%COMP%]:focus-visible{outline:2px solid var(--color-primary, #007bff);outline-offset:2px;border-radius:4px;box-shadow:0 0 0 2px #007bff33}@media (prefers-contrast: high){*[_ngcontent-%COMP%]:focus-visible{outline:3px solid CanvasText;outline-offset:2px}}@media (prefers-reduced-motion: no-preference){*[_ngcontent-%COMP%]:focus-visible{transition:outline-color .15s ease-in-out,box-shadow .15s ease-in-out}}.skip-link[_ngcontent-%COMP%]{position:absolute;top:-100px;left:50%;transform:translate(-50%);background:var(--color-primary, #007bff);color:#fff;padding:8px 16px;text-decoration:none;border-radius:4px;font-weight:600;z-index:9999}.skip-link[_ngcontent-%COMP%]:focus{top:16px}.product-card[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:stretch;height:100%}.product-details[_ngcontent-%COMP%]{padding-bottom:1rem;display:flex;flex-direction:column;gap:.5rem}.product-details[_ngcontent-%COMP%]   .product-category[_ngcontent-%COMP%]{font-size:.75rem;font-weight:400;color:#803e0c}.product-details[_ngcontent-%COMP%]   .product-title[_ngcontent-%COMP%]{font-size:1rem;font-weight:500;color:#000}.product-details[_ngcontent-%COMP%]   .product-price[_ngcontent-%COMP%]{font-weight:700;font-size:1.5rem;color:#062c48}.product-actions[_ngcontent-%COMP%]{display:flex;align-items:stretch;justify-content:center;gap:.75rem;border-top:1px solid #d1d5db;padding-top:1rem}.product-image[_ngcontent-%COMP%]{flex:1;width:100%;height:200px;min-height:200px;position:relative;background-color:#9ca3af33;display:flex;align-items:center;justify-content:center;border-top-left-radius:.75rem;border-top-right-radius:.75rem;padding:1rem;overflow:hidden}[_nghost-%COMP%]     .card{border-top-left-radius:0!important;border-top-right-radius:0!important;border-top:none!important}"],changeDetection:0})};function ft(o,t){return this.trackByProductId()(o,t)}function ht(o,t){o&1&&h(0,"app-product-card-skeleton")}function _t(o,t){if(o&1&&(r(0,"div",0),he(1,ht,1,0,"app-product-card-skeleton",null,Ue),s()),o&2){let e=u();a(),_e(e.skeletonItems)}}function bt(o,t){if(o&1){let e=S();r(0,"app-product-card",5),g("editEvent",function(i){P(e);let l=u(2);return O(l.onEdit(i))})("deleteEvent",function(i){P(e);let l=u(2);return O(l.onDelete(i))}),s()}if(o&2){let e=t.$implicit;c("product",e)}}function Ct(o,t){if(o&1){let e=S();r(0,"app-empty-list",6),g("buttonEvent",function(){P(e);let i=u(2);return O(i.onClearSearch())})("retryEvent",function(){P(e);let i=u(2);return O(i.onRetry())}),s()}if(o&2){let e=u(2);c("message",e.emptyListConfig.message)("icon",e.emptyListConfig.icon)}}function vt(o,t){if(o&1&&(r(0,"div",2),he(1,bt,1,1,"app-product-card",3,ft,!0,Ct,1,2,"app-empty-list",4),s()),o&2){let e=u();K(e.products().length===0?"product-list-empty":""),a(),_e(e.products())}}var le=class o{loading=f.required();products=f.required();deleteEvent=y();editEvent=y();clearSearchEvent=y();retryEvent=y();trackByProductId=_(()=>(t,e)=>`product-${t}-${e.id}`);skeletonItems=Array(9).fill(null);emptyListConfig={message:"Nenhum produto encontrado com este nome.",icon:"ri-search-line"};onDelete(t){this.deleteEvent.emit(t)}onEdit(t){this.editEvent.emit(t)}onClearSearch(){this.clearSearchEvent.emit()}onRetry(){this.retryEvent.emit()}static \u0275fac=function(e){return new(e||o)};static \u0275cmp=b({type:o,selectors:[["app-product-list"]],inputs:{loading:[1,"loading"],products:[1,"products"]},outputs:{deleteEvent:"deleteEvent",editEvent:"editEvent",clearSearchEvent:"clearSearchEvent",retryEvent:"retryEvent"},decls:2,vars:1,consts:[["role","status","aria-live","polite","aria-label","Carregando produtos",1,"product-list-wrapper"],[1,"product-list-wrapper",3,"class"],[1,"product-list-wrapper"],[3,"product"],[3,"message","icon"],[3,"editEvent","deleteEvent","product"],[3,"buttonEvent","retryEvent","message","icon"]],template:function(e,n){e&1&&M(0,_t,3,0,"div",0)(1,vt,4,3,"div",1),e&2&&E(n.loading()?0:1)},dependencies:[se,ce,oe],styles:["@keyframes _ngcontent-%COMP%_shimmer{0%{background-position:-600px 0}to{background-position:600px 0}}.skeleton-active[_ngcontent-%COMP%]{position:relative;overflow:hidden;background-color:#e8e8e8;background-image:linear-gradient(90deg,transparent,rgba(255,255,255,.6),transparent);background-size:600px 100%;background-repeat:no-repeat;animation:_ngcontent-%COMP%_shimmer 1.5s ease-in-out infinite;color:transparent;-webkit-user-select:none;user-select:none;pointer-events:none}.skeleton-active[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{visibility:hidden}.skeleton-circle[_ngcontent-%COMP%]{border-radius:50%}.skeleton-rect[_ngcontent-%COMP%]{border-radius:6px}.skeleton-text[_ngcontent-%COMP%]{height:1em;min-width:4rem;border-radius:4px;display:inline-block}.skeleton-avatar[_ngcontent-%COMP%]{width:3rem;height:3rem;aspect-ratio:1;border-radius:50%}.skeleton-card[_ngcontent-%COMP%]{border-radius:8px;padding:1rem;min-height:8rem}.skeleton-button[_ngcontent-%COMP%]{height:3rem;min-width:4rem;border-radius:6px;display:inline-flex;align-items:center;justify-content:center}.skeleton-button.skeleton-circle[_ngcontent-%COMP%]{width:2.5rem;min-width:2.5rem;border-radius:50%}*[_ngcontent-%COMP%]:focus{outline:none}*[_ngcontent-%COMP%]:focus-visible{outline:2px solid var(--color-primary, #007bff);outline-offset:2px;border-radius:4px}button[_ngcontent-%COMP%]:focus-visible, a[_ngcontent-%COMP%]:focus-visible, input[_ngcontent-%COMP%]:focus-visible, select[_ngcontent-%COMP%]:focus-visible, textarea[_ngcontent-%COMP%]:focus-visible, [role=button][_ngcontent-%COMP%]:focus-visible, [role=link][_ngcontent-%COMP%]:focus-visible, [tabindex][_ngcontent-%COMP%]:focus-visible{outline:2px solid var(--color-primary, #007bff);outline-offset:2px;border-radius:4px;box-shadow:0 0 0 2px #007bff33}@media (prefers-contrast: high){*[_ngcontent-%COMP%]:focus-visible{outline:3px solid CanvasText;outline-offset:2px}}@media (prefers-reduced-motion: no-preference){*[_ngcontent-%COMP%]:focus-visible{transition:outline-color .15s ease-in-out,box-shadow .15s ease-in-out}}.skip-link[_ngcontent-%COMP%]{position:absolute;top:-100px;left:50%;transform:translate(-50%);background:var(--color-primary, #007bff);color:#fff;padding:8px 16px;text-decoration:none;border-radius:4px;font-weight:600;z-index:9999}.skip-link[_ngcontent-%COMP%]:focus{top:16px}.product-list-wrapper[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(0,314px));justify-content:center;gap:1.5rem;padding:1.5rem}.product-list-wrapper[_ngcontent-%COMP%]   .product-list-empty[_ngcontent-%COMP%], .product-list-empty[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:.25rem}"],changeDetection:0})};var d={SEARCH_DEBOUNCE_TIME:300,SEARCH_API_DELAY:300,TOAST_DURATION:3e3,DEFAULT_IMAGE:"assets/images/empty-image.jpg",TOAST_MESSAGES:{LOAD_ERROR:"Falha ao carregar os produtos, tente novamente.",CATEGORIES_ERROR:"Falha ao carregar as categorias, tente novamente.",CREATE_SUCCESS:"Produto criado com sucesso.",UPDATE_SUCCESS:"Produto atualizado com sucesso.",CREATE_ERROR:"Falha ao criar o produto, tente novamente.",UPDATE_ERROR:"Falha ao atualizar o produto, tente novamente.",DELETE_SUCCESS:"Produto exclu\xEDdo com sucesso.",DELETE_ERROR:"Falha ao excluir o produto, tente novamente."},TOAST_TYPES:{SUCCESS:"success",ERROR:"error"}};var $={production:!1,apiUrl:"https://fakestoreapi.com",endpoints:{products:"/products",categories:"/products/categories"}};var de=class o{http=p(ze);get(t,e){return this.http.get(t,{headers:e?.headers,params:e?.params})}post(t,e,n){return this.http.post(t,e,{headers:n?.headers,params:n?.params})}put(t,e,n){return this.http.put(t,e,{headers:n?.headers,params:n?.params})}delete(t,e){return this.http.delete(t,{headers:e?.headers,params:e?.params})}static \u0275fac=function(e){return new(e||o)};static \u0275prov=X({token:o,factory:o.\u0275fac,providedIn:"root"})};var pe=class o{apiUrl=`${$.apiUrl}${$.endpoints.products}`;categoriesUrl=`${$.apiUrl}${$.endpoints.categories}`;baseService=p(de);apiUrlToError="https://invalid-api-url.com/products";getAllCategories(){return this.baseService.get(this.categoriesUrl)}getAllProducts(){return this.baseService.get(this.apiUrl).pipe(ye(t=>t.map(e=>me(ue({},e),{image:e.image||d.DEFAULT_IMAGE}))))}createProduct(t){return this.baseService.post(this.apiUrl,t)}updateProduct(t){return this.baseService.put(`${this.apiUrl}/${t.id}`,t)}deleteProduct(t){return this.baseService.delete(`${this.apiUrl}/${t}`)}static \u0275fac=function(e){return new(e||o)};static \u0275prov=X({token:o,factory:o.\u0275fac,providedIn:"root"})};var it=F({providedIn:"root"},H({allProducts:null,products:[],categories:[],productToEdit:null,searchTerm:""}),Xe(o=>({dataLoaded:_(()=>o.allProducts()!==null),filteredProducts:_(()=>{let t=o.allProducts(),e=o.searchTerm().toLowerCase();return!t||t===null?[]:e?t.filter(n=>n.title.toLowerCase().includes(e)):t})})),j((o,t=p(pe),e=p(z),n=p(Qe))=>({loadProducts:w(k(v(()=>{o.dataLoaded()||e.show()}),I(()=>t.getAllProducts().pipe(v(i=>{e.hide(),m(o,{allProducts:i,products:i})}),V(()=>(e.hide(),n.show({type:d.TOAST_TYPES.ERROR,message:d.TOAST_MESSAGES.LOAD_ERROR,duration:d.TOAST_DURATION}),m(o,{allProducts:null,products:[]}),N(null))))))),loadCategories:w(k(I(()=>t.getAllCategories().pipe(v(i=>{m(o,{categories:i})}),V(()=>(n.show({type:d.TOAST_TYPES.ERROR,message:d.TOAST_MESSAGES.CATEGORIES_ERROR,duration:d.TOAST_DURATION}),N([]))))))),setSearchTerm:w(k(xe(d.SEARCH_DEBOUNCE_TIME),v(i=>{i&&i.length>0&&e.show(),m(o,{searchTerm:i})}),I(i=>N(null).pipe(Z(i&&i.length>0?d.SEARCH_API_DELAY:0),v(()=>{let l=o.filteredProducts();m(o,{products:l}),i&&i.length>0&&e.hide()}))))),clearSearch(){m(o,{searchTerm:""});let i=o.allProducts();i!==null&&m(o,{products:i})},setProductToEdit(i){m(o,{productToEdit:i})},saveProduct:w(k(v(()=>e.show()),I(i=>(i.id?t.updateProduct(i):t.createProduct(i)).pipe(I(()=>t.getAllProducts()),v(R=>{e.hide(),m(o,{allProducts:R,products:R}),n.show({type:d.TOAST_TYPES.SUCCESS,message:i.id?d.TOAST_MESSAGES.UPDATE_SUCCESS:d.TOAST_MESSAGES.CREATE_SUCCESS,duration:d.TOAST_DURATION})}),V(()=>(e.hide(),n.show({type:d.TOAST_TYPES.ERROR,message:i.id?d.TOAST_MESSAGES.UPDATE_ERROR:d.TOAST_MESSAGES.CREATE_ERROR,duration:d.TOAST_DURATION}),N(null))))))),deleteProduct:w(k(I(i=>t.deleteProduct(i).pipe(v(()=>{let l=o.products();m(o,{products:l.filter(R=>R.id!==i)}),n.show({type:d.TOAST_TYPES.SUCCESS,message:d.TOAST_MESSAGES.DELETE_SUCCESS,duration:d.TOAST_DURATION})}),V(()=>(n.show({type:d.TOAST_TYPES.ERROR,message:d.TOAST_MESSAGES.DELETE_ERROR,duration:d.TOAST_DURATION}),N(null))))))),findProductById(i){return o.products().find(l=>l.id===i)}})),We({onInit(o){o.loadProducts(),o.loadCategories()}}));var Pt=()=>[re,import("./chunk-2TDX3AD7.js").then(o=>o.FormManagerComponent)];function Ot(o,t){if(o&1){let e=S();r(0,"app-modal-right")(1,"app-form-manager",6),g("save",function(i){P(e);let l=u();return O(l.onSaveProduct(i))})("cancelForm",function(){P(e);let i=u();return O(i.onCancelActionProduct())}),s()()}if(o&2){let e=u();a(),c("data",e.productToEdit())("categories",e.categories())}}var rt=class o{modalStore=p(Je);modalRightStore=p(ie);productsStore=p(it);skeletonStore=p(z);loading=_(()=>this.skeletonStore.loading());products=_(()=>this.productsStore.products());productToEdit=_(()=>this.productsStore.productToEdit());categories=_(()=>this.productsStore.categories());searchControl=new qe("");searchValue=ve(this.searchControl.valueChanges.pipe(Ce()),{initialValue:""});constructor(){Y(()=>{this.productsStore.setSearchTerm(this.searchValue()??"")})}handleNewProduct(){this.productsStore.setProductToEdit(null),this.modalRightStore.open({title:"Adicionar produto"})}handleEditProductById(t){let e=this.productsStore.findProductById(t);e&&this.handleEditProduct(e)}handleEditProduct(t){this.modalRightStore.open({title:`Editar produto #${t.id}`}),this.productsStore.setProductToEdit(t)}onSaveProduct(t){this.productsStore.saveProduct(t),this.modalRightStore.close()}handleDeleteProductById(t){let e=this.productsStore.findProductById(t);e&&this.handleDeleteProduct(t,e.title)}handleDeleteProduct(t,e){this.modalStore.open({title:"Aten\xE7\xE3o",content:`Tem certeza de que deseja excluir o produto "${e}"?`,buttons:[{label:"Cancelar",action:"cancel"},{label:"Deletar",action:"confirm"}]}),this.modalStore.onAfterClosed(n=>{n==="confirm"&&this.productsStore.deleteProduct(t)})}onCancelActionProduct(){this.modalRightStore.close()}clearSearchProducts(){this.searchControl.setValue(""),this.productsStore.clearSearch()}onRetryLoadProducts(){this.searchControl.setValue(""),this.refreshProducts()}refreshProducts(){this.productsStore.loadProducts()}static \u0275fac=function(e){return new(e||o)};static \u0275cmp=b({type:o,selectors:[["app-products-manager"]],decls:11,vars:10,consts:[[1,"manager-header"],[1,"manager-header-actions"],[3,"formControl","placeholder"],[3,"clickEvent","autoFocus","text","icon","color","size"],[1,"list-product-manager"],[3,"editEvent","deleteEvent","clearSearchEvent","retryEvent","loading","products"],[3,"save","cancelForm","data","categories"]],template:function(e,n){e&1&&(r(0,"header",0)(1,"h2"),C(2,"Gerenciar Produtos"),s(),r(3,"div",1),h(4,"app-input-search",2),r(5,"app-button",3),g("clickEvent",function(){return n.handleNewProduct()}),s()()(),r(6,"section",4)(7,"app-product-list",5),g("editEvent",function(l){return n.handleEditProductById(l)})("deleteEvent",function(l){return n.handleDeleteProductById(l)})("clearSearchEvent",function(){return n.clearSearchProducts()})("retryEvent",function(){return n.onRetryLoadProducts()}),s()(),M(8,Ot,2,2),Ae(9,8,Pt)),e&2&&(a(4),c("formControl",n.searchControl)("placeholder","Digite o nome do produto..."),a(),c("autoFocus",!0)("text","Produto")("icon","add-circle-line")("color","secondary")("size","default"),a(2),c("loading",n.loading())("products",n.products()),a(2),De(n.modalRightStore.isOpen()))},dependencies:[le,B,ne,$e,Ve,Ye],styles:["@keyframes _ngcontent-%COMP%_shimmer{0%{background-position:-600px 0}to{background-position:600px 0}}.skeleton-active[_ngcontent-%COMP%]{position:relative;overflow:hidden;background-color:#e8e8e8;background-image:linear-gradient(90deg,transparent,rgba(255,255,255,.6),transparent);background-size:600px 100%;background-repeat:no-repeat;animation:_ngcontent-%COMP%_shimmer 1.5s ease-in-out infinite;color:transparent;-webkit-user-select:none;user-select:none;pointer-events:none}.skeleton-active[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{visibility:hidden}.skeleton-circle[_ngcontent-%COMP%]{border-radius:50%}.skeleton-rect[_ngcontent-%COMP%]{border-radius:6px}.skeleton-text[_ngcontent-%COMP%]{height:1em;min-width:4rem;border-radius:4px;display:inline-block}.skeleton-avatar[_ngcontent-%COMP%]{width:3rem;height:3rem;aspect-ratio:1;border-radius:50%}.skeleton-card[_ngcontent-%COMP%]{border-radius:8px;padding:1rem;min-height:8rem}.skeleton-button[_ngcontent-%COMP%]{height:3rem;min-width:4rem;border-radius:6px;display:inline-flex;align-items:center;justify-content:center}.skeleton-button.skeleton-circle[_ngcontent-%COMP%]{width:2.5rem;min-width:2.5rem;border-radius:50%}*[_ngcontent-%COMP%]:focus{outline:none}*[_ngcontent-%COMP%]:focus-visible{outline:2px solid var(--color-primary, #007bff);outline-offset:2px;border-radius:4px}button[_ngcontent-%COMP%]:focus-visible, a[_ngcontent-%COMP%]:focus-visible, input[_ngcontent-%COMP%]:focus-visible, select[_ngcontent-%COMP%]:focus-visible, textarea[_ngcontent-%COMP%]:focus-visible, [role=button][_ngcontent-%COMP%]:focus-visible, [role=link][_ngcontent-%COMP%]:focus-visible, [tabindex][_ngcontent-%COMP%]:focus-visible{outline:2px solid var(--color-primary, #007bff);outline-offset:2px;border-radius:4px;box-shadow:0 0 0 2px #007bff33}@media (prefers-contrast: high){*[_ngcontent-%COMP%]:focus-visible{outline:3px solid CanvasText;outline-offset:2px}}@media (prefers-reduced-motion: no-preference){*[_ngcontent-%COMP%]:focus-visible{transition:outline-color .15s ease-in-out,box-shadow .15s ease-in-out}}.skip-link[_ngcontent-%COMP%]{position:absolute;top:-100px;left:50%;transform:translate(-50%);background:var(--color-primary, #007bff);color:#fff;padding:8px 16px;text-decoration:none;border-radius:4px;font-weight:600;z-index:9999}.skip-link[_ngcontent-%COMP%]:focus{top:16px}.manager-header[_ngcontent-%COMP%]{display:flex;gap:1rem;align-items:center;padding:1.5rem;justify-content:space-between}.manager-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2rem;color:#803e0c;margin:0}.manager-header-actions[_ngcontent-%COMP%]{display:flex;gap:1rem}@media (max-width: 600px){.manager-header[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start}.manager-header-actions[_ngcontent-%COMP%]{width:100%;gap:.5rem}}"],changeDetection:0})};export{rt as ProductsManagerComponent};
