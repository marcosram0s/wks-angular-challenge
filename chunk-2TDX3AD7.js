import{a as S,b as C,c as J,d as W,e as Y,f as ee,h as te,i as ne,j as oe,k as ie}from"./chunk-UT362E3C.js";import{$a as O,Eb as g,Fb as Z,Ia as v,Na as k,P as y,Va as x,W as V,Wa as s,Wb as re,Xa as h,Xb as ae,a as R,ba as f,bb as $,ca as b,cb as H,db as d,eb as l,f as U,fb as w,gb as I,hb as u,ib as p,la as q,m as A,ma as c,mb as Q,na as B,nb as K,ob as X,pa as _,pb as m,qb as P,rb as T,sb as E,ya as G,za as r}from"./chunk-DPYPWN3N.js";function de(o,t){if(o&1){let e=I();d(0,"input",4),u("input",function(i){f(e);let a=p();return b(a.onInputValueChange(i))})("blur",function(){f(e);let i=p();return b(i.onBlur())}),l()}if(o&2){let e=p();h("invalid",!!e.error()),s("id",e.idInput())("type",e.type())("placeholder",e.placeholder())("value",e.value())("disabled",e.disabled()),x("aria-describedby",e.error()?e.errorId:null)("aria-invalid",!!e.error())}}function pe(o,t){if(o&1){let e=I();d(0,"input",4),u("input",function(i){f(e);let a=p();return b(a.onInputValueChange(i))})("blur",function(){f(e);let i=p();return b(i.onBlur())}),l()}if(o&2){let e=p();h("invalid",!!e.error()),s("id",e.idInput())("type","text")("placeholder",e.placeholder())("value",e.value())("disabled",e.disabled()),x("aria-describedby",e.error()?e.errorId:null)("aria-invalid",!!e.error())}}function ue(o,t){if(o&1&&(d(0,"span",3),m(1),l()),o&2){let e=p();s("id",e.errorId),r(),P(e.error())}}var me=0,D=class o{id=c.required();label=c.required();type=c.required();placeholder=c.required();error=c.required();disabled=c();uniqueId=`input-${me++}`;idInput=g(()=>this.id??this.uniqueId);errorId=`${this.uniqueId}-error`;value=_("");onChange=()=>{};onTouched=()=>{};writeValue(t){this.value.set(t??"")}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}onInputValueChange(t){let e=t.target;if(this.type()==="currency"){let n=e.value.replace(/\D/g,""),i=Number(n)/100,a=i.toLocaleString("pt-BR",{minimumFractionDigits:2,maximumFractionDigits:2});e.value=a,this.value.set(i.toString()),this.onChange(i);return}this.value.set(e.value),this.onChange(e.value)}onBlur(){this.onTouched()}static \u0275fac=function(e){return new(e||o)};static \u0275cmp=v({type:o,selectors:[["app-input"]],inputs:{id:[1,"id"],label:[1,"label"],type:[1,"type"],placeholder:[1,"placeholder"],error:[1,"error"],disabled:[1,"disabled"]},features:[E([{provide:S,useExisting:y(()=>o),multi:!0}])],decls:6,vars:4,consts:[[1,"input-container"],[1,"input-label",3,"for"],[1,"input",3,"id","type","placeholder","value","disabled","invalid"],["role","alert",1,"input-error",3,"id"],[1,"input",3,"input","blur","id","type","placeholder","value","disabled"]],template:function(e,n){e&1&&(d(0,"fieldset",0)(1,"label",1),m(2),l(),k(3,de,1,9,"input",2)(4,pe,1,9,"input",2)(5,ue,2,2,"span",3),l()),e&2&&(r(),s("for",n.idInput()),r(),P(n.label()),r(),O(n.type()!=="currency"?3:4),r(2),O(n.error()?5:-1))},styles:["@keyframes _ngcontent-%COMP%_shimmer{0%{background-position:-600px 0}to{background-position:600px 0}}.skeleton-active[_ngcontent-%COMP%]{position:relative;overflow:hidden;background-color:#e8e8e8;background-image:linear-gradient(90deg,transparent,rgba(255,255,255,.6),transparent);background-size:600px 100%;background-repeat:no-repeat;animation:_ngcontent-%COMP%_shimmer 1.5s ease-in-out infinite;color:transparent;-webkit-user-select:none;user-select:none;pointer-events:none}.skeleton-active[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{visibility:hidden}.skeleton-circle[_ngcontent-%COMP%]{border-radius:50%}.skeleton-rect[_ngcontent-%COMP%]{border-radius:6px}.skeleton-text[_ngcontent-%COMP%]{height:1em;min-width:4rem;border-radius:4px;display:inline-block}.skeleton-avatar[_ngcontent-%COMP%]{width:3rem;height:3rem;aspect-ratio:1;border-radius:50%}.skeleton-card[_ngcontent-%COMP%]{border-radius:8px;padding:1rem;min-height:8rem}.skeleton-button[_ngcontent-%COMP%]{height:3rem;min-width:4rem;border-radius:6px;display:inline-flex;align-items:center;justify-content:center}.skeleton-button.skeleton-circle[_ngcontent-%COMP%]{width:2.5rem;min-width:2.5rem;border-radius:50%}*[_ngcontent-%COMP%]:focus{outline:none}*[_ngcontent-%COMP%]:focus-visible{outline:2px solid var(--color-primary, #007bff);outline-offset:2px;border-radius:4px}button[_ngcontent-%COMP%]:focus-visible, a[_ngcontent-%COMP%]:focus-visible, input[_ngcontent-%COMP%]:focus-visible, select[_ngcontent-%COMP%]:focus-visible, textarea[_ngcontent-%COMP%]:focus-visible, [role=button][_ngcontent-%COMP%]:focus-visible, [role=link][_ngcontent-%COMP%]:focus-visible, [tabindex][_ngcontent-%COMP%]:focus-visible{outline:2px solid var(--color-primary, #007bff);outline-offset:2px;border-radius:4px;box-shadow:0 0 0 2px #007bff33}@media (prefers-contrast: high){*[_ngcontent-%COMP%]:focus-visible{outline:3px solid CanvasText;outline-offset:2px}}@media (prefers-reduced-motion: no-preference){*[_ngcontent-%COMP%]:focus-visible{transition:outline-color .15s ease-in-out,box-shadow .15s ease-in-out}}.skip-link[_ngcontent-%COMP%]{position:absolute;top:-100px;left:50%;transform:translate(-50%);background:var(--color-primary, #007bff);color:#fff;padding:8px 16px;text-decoration:none;border-radius:4px;font-weight:600;z-index:9999}.skip-link[_ngcontent-%COMP%]:focus{top:16px}.input-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem;border:none}.input-label[_ngcontent-%COMP%]{font-weight:500;font-size:.875rem;color:#374151}.input[_ngcontent-%COMP%]{border:1px solid #6b7280;transition:border-color .2s ease-in-out;border-radius:.5rem;padding:.5rem .75rem;font-size:1rem}.input[_ngcontent-%COMP%]:focus{outline:1px solid #f5d0a8;outline-offset:1px}.input.invalid[_ngcontent-%COMP%]{border-color:#dc2626}.input[_ngcontent-%COMP%]:disabled{background-color:#d1d5db;cursor:not-allowed;color:#4b5563}.input-error[_ngcontent-%COMP%]{color:#dc2626;padding:0 .75rem;font-size:.75rem}"],changeDetection:0})};var ge=["optionItem"],fe=(o,t)=>t.value;function be(o,t){if(o&1){let e=I();d(0,"li",9,0),u("click",function(){let i=f(e).$implicit,a=p(2);return b(a.selectOption(i))})("keydown",function(i){f(e);let a=p(2);return b(a.onKeydown(i))}),m(2),l()}if(o&2){let e,n,i=t.$implicit,a=t.$index,M=p(2);h("selected",i.value===((e=M.selectedOption())==null?null:e.value))("active",a===M.activeIndex()),x("aria-selected",i.value===((n=M.selectedOption())==null?null:n.value)),r(2),T(" ",i.label," ")}}function _e(o,t){if(o&1){let e=I();d(0,"ul",7),u("keydown",function(i){f(e);let a=p();return b(a.onKeydown(i))}),$(1,be,3,6,"li",8,fe),l()}if(o&2){let e=p();r(),H(e.options())}}function he(o,t){if(o&1&&(d(0,"span",6),m(1),l()),o&2){let e=p();s("id",e.errorId),r(),T(" ",e.error()," ")}}var Ce=0,F=class o{id=c();label=c.required();placeholder=c.required();options=c.required();error=c();optionElements;uniqueId=`select-${Ce++}`;idInput=g(()=>this.id()??this.uniqueId);errorId=`${this.uniqueId}-error`;isOpen=_(!1);activeIndex=_(-1);selectedOption=_(void 0);displayLabel=g(()=>this.selectedOption()?.label??this.placeholder());elementRef=V(B);onChange=()=>{};onTouched=()=>{};ngAfterViewInit(){this.optionElements.changes.subscribe(()=>{this.isOpen()&&this.activeIndex()>=0&&this.focusOption(this.activeIndex())})}writeValue(t){let e=this.options().find(n=>n.value===t);this.selectedOption.set(e)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}toggleDropdown(){if(this.isOpen.update(t=>!t),this.isOpen()){let t=this.options().findIndex(e=>e.value===this.selectedOption()?.value);this.activeIndex.set(t>-1?t:0)}else this.onTouched()}selectOption(t){this.selectedOption.set(t),this.onChange(t.value),this.isOpen.set(!1),this.onTouched()}onKeydown(t){switch(t.preventDefault(),t.key){case"ArrowDown":this.activeIndex.update(e=>(e+1)%this.options().length),this.focusOption(this.activeIndex());break;case"ArrowUp":this.activeIndex.update(e=>(e-1+this.options().length)%this.options().length),this.focusOption(this.activeIndex());break;case"Enter":case" ":this.activeIndex()>=0&&this.selectOption(this.options()[this.activeIndex()]);break;case"Escape":this.isOpen.set(!1);break}}focusOption(t){this.optionElements.get(t)?.nativeElement.focus()}onDocumentClick(t){this.isOpen()&&!this.elementRef.nativeElement.contains(t.target)&&(this.isOpen.set(!1),this.onTouched())}static \u0275fac=function(e){return new(e||o)};static \u0275cmp=v({type:o,selectors:[["app-select"]],viewQuery:function(e,n){if(e&1&&Q(ge,5),e&2){let i;K(i=X())&&(n.optionElements=i)}},hostBindings:function(e,n){e&1&&u("click",function(a){return n.onDocumentClick(a)},!1,G)},inputs:{id:[1,"id"],label:[1,"label"],placeholder:[1,"placeholder"],options:[1,"options"],error:[1,"error"]},features:[E([{provide:S,useExisting:y(()=>o),multi:!0}])],decls:9,vars:15,consts:[["optionItem",""],[1,"select-container"],[1,"select-label",3,"for"],["type","button",1,"select-button",3,"click","id"],[1,"arrow"],["role","listbox","tabindex","0",1,"select-list"],["role","alert",1,"select-error",3,"id"],["role","listbox","tabindex","0",1,"select-list",3,"keydown"],["role","option","tabindex","-1",1,"select-item",3,"selected","active"],["role","option","tabindex","-1",1,"select-item",3,"click","keydown"]],template:function(e,n){e&1&&(d(0,"fieldset",1)(1,"label",2),m(2),l(),d(3,"button",3),u("click",function(){return n.toggleDropdown()}),d(4,"span"),m(5),l(),w(6,"span",4),l(),k(7,_e,3,0,"ul",5)(8,he,2,2,"span",6),l()),e&2&&(r(),s("for",n.idInput()),r(),P(n.label()),r(),h("open",n.isOpen())("invalid",!!n.error()),s("id",n.idInput()),x("aria-expanded",n.isOpen())("aria-haspopup","listbox")("aria-labelledby",n.idInput()+"-label"),r(),h("placeholder",!n.selectedOption()),r(),T(" ",n.displayLabel()," "),r(2),O(n.isOpen()?7:-1),r(),O(n.error()?8:-1))},styles:["@keyframes _ngcontent-%COMP%_shimmer{0%{background-position:-600px 0}to{background-position:600px 0}}.skeleton-active[_ngcontent-%COMP%]{position:relative;overflow:hidden;background-color:#e8e8e8;background-image:linear-gradient(90deg,transparent,rgba(255,255,255,.6),transparent);background-size:600px 100%;background-repeat:no-repeat;animation:_ngcontent-%COMP%_shimmer 1.5s ease-in-out infinite;color:transparent;-webkit-user-select:none;user-select:none;pointer-events:none}.skeleton-active[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{visibility:hidden}.skeleton-circle[_ngcontent-%COMP%]{border-radius:50%}.skeleton-rect[_ngcontent-%COMP%]{border-radius:6px}.skeleton-text[_ngcontent-%COMP%]{height:1em;min-width:4rem;border-radius:4px;display:inline-block}.skeleton-avatar[_ngcontent-%COMP%]{width:3rem;height:3rem;aspect-ratio:1;border-radius:50%}.skeleton-card[_ngcontent-%COMP%]{border-radius:8px;padding:1rem;min-height:8rem}.skeleton-button[_ngcontent-%COMP%]{height:3rem;min-width:4rem;border-radius:6px;display:inline-flex;align-items:center;justify-content:center}.skeleton-button.skeleton-circle[_ngcontent-%COMP%]{width:2.5rem;min-width:2.5rem;border-radius:50%}*[_ngcontent-%COMP%]:focus{outline:none}*[_ngcontent-%COMP%]:focus-visible{outline:2px solid var(--color-primary, #007bff);outline-offset:2px;border-radius:4px}button[_ngcontent-%COMP%]:focus-visible, a[_ngcontent-%COMP%]:focus-visible, input[_ngcontent-%COMP%]:focus-visible, select[_ngcontent-%COMP%]:focus-visible, textarea[_ngcontent-%COMP%]:focus-visible, [role=button][_ngcontent-%COMP%]:focus-visible, [role=link][_ngcontent-%COMP%]:focus-visible, [tabindex][_ngcontent-%COMP%]:focus-visible{outline:2px solid var(--color-primary, #007bff);outline-offset:2px;border-radius:4px;box-shadow:0 0 0 2px #007bff33}@media (prefers-contrast: high){*[_ngcontent-%COMP%]:focus-visible{outline:3px solid CanvasText;outline-offset:2px}}@media (prefers-reduced-motion: no-preference){*[_ngcontent-%COMP%]:focus-visible{transition:outline-color .15s ease-in-out,box-shadow .15s ease-in-out}}.skip-link[_ngcontent-%COMP%]{position:absolute;top:-100px;left:50%;transform:translate(-50%);background:var(--color-primary, #007bff);color:#fff;padding:8px 16px;text-decoration:none;border-radius:4px;font-weight:600;z-index:9999}.skip-link[_ngcontent-%COMP%]:focus{top:16px}.select-container[_ngcontent-%COMP%]{position:relative;display:flex;flex-direction:column;gap:.5rem;border:none;margin:0;padding:0}.select-label[_ngcontent-%COMP%]{font-weight:500;font-size:.875rem;color:#374151}.select-button[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;gap:1rem;cursor:pointer;width:100%;text-align:left;border:1px solid #6b7280;transition:border-color .2s ease-in-out;border-radius:.5rem;padding:.5rem .75rem;font-size:1rem;background-color:#fff;color:#111827}.select-button[_ngcontent-%COMP%]   .placeholder[_ngcontent-%COMP%]{color:#4b5563}.select-button[_ngcontent-%COMP%]   .arrow[_ngcontent-%COMP%]{border:solid #1f2937;border-width:0 1px 1px 0;display:inline-block;padding:3px;transform:rotate(45deg);transition:transform .2s ease-in-out}.select-button.open[_ngcontent-%COMP%]   .arrow[_ngcontent-%COMP%]{transform:rotate(-135deg)}.select-button[_ngcontent-%COMP%]:focus{outline:none;border-color:#f5d0a8}.select-button.invalid[_ngcontent-%COMP%]{border-color:#dc2626}.select-button[_ngcontent-%COMP%]:disabled{background-color:#d1d5db;cursor:not-allowed;color:#4b5563}.select-list[_ngcontent-%COMP%]{list-style:none;position:absolute;overflow-y:auto;margin:0;left:0;width:100%;top:calc(100% + .25rem);padding:0;background-color:#fff;border:1px solid #d1d5db;border-radius:.5rem;box-shadow:0 4px 8px #0000001a;z-index:10}.select-list[_ngcontent-%COMP%]   .select-item[_ngcontent-%COMP%]{cursor:pointer;padding:.5rem .75rem;font-size:1rem;transition:background-color .2s ease-in-out;color:#111827}.select-list[_ngcontent-%COMP%]   .select-item[_ngcontent-%COMP%]:hover, .select-list[_ngcontent-%COMP%]   .select-item.active[_ngcontent-%COMP%], .select-list[_ngcontent-%COMP%]   .select-item[_ngcontent-%COMP%]:focus{background-color:#f5d0a833;outline:none}.select-list[_ngcontent-%COMP%]   .select-item.selected[_ngcontent-%COMP%]{font-weight:700;color:#0a3d6b;background-color:#0a3d6b1a}.select-error[_ngcontent-%COMP%]{color:#dc2626;padding:0 .75rem;font-size:.75rem}"],changeDetection:0})};function ve(o,t){if(o&1&&(d(0,"span",3),m(1),l()),o&2){let e=p();s("id",e.errorId),r(),T(" ",e.error()," ")}}var xe=0,N=class o{id=c();label=c.required();placeholder=c();error=c();rows=c(3);uniqueId=`textarea-${xe++}`;idInput=g(()=>this.id()??this.uniqueId);errorId=`${this.uniqueId}-error`;value=_("");isDisabled=_(!1);onChange=()=>{};onTouched=()=>{};writeValue(t){this.value.set(t??"")}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this.isDisabled.set(t)}onTextAreaValueChange(t){let e=t.target;this.value.set(e.value),this.onChange(e.value)}onBlur(){this.onTouched()}static \u0275fac=function(e){return new(e||o)};static \u0275cmp=v({type:o,selectors:[["app-text-area"]],inputs:{id:[1,"id"],label:[1,"label"],placeholder:[1,"placeholder"],error:[1,"error"],rows:[1,"rows"]},features:[E([{provide:S,useExisting:y(()=>o),multi:!0}])],decls:5,vars:12,consts:[[1,"textarea-container"],[1,"textarea-label",3,"for"],[1,"textarea",3,"input","blur","id","placeholder","value","disabled","rows"],["role","alert",1,"textarea-error",3,"id"]],template:function(e,n){e&1&&(d(0,"fieldset",0)(1,"label",1),m(2),l(),d(3,"textarea",2),u("input",function(a){return n.onTextAreaValueChange(a)})("blur",function(){return n.onBlur()}),l(),k(4,ve,2,2,"span",3),l()),e&2&&(r(),s("for",n.idInput()),r(),P(n.label()),r(),h("invalid",!!n.error()),s("id",n.idInput())("placeholder",n.placeholder())("value",n.value())("disabled",n.isDisabled())("rows",n.rows()),x("aria-describedby",n.error()?n.errorId:null)("aria-invalid",!!n.error()),r(),O(n.error()?4:-1))},styles:["@keyframes _ngcontent-%COMP%_shimmer{0%{background-position:-600px 0}to{background-position:600px 0}}.skeleton-active[_ngcontent-%COMP%]{position:relative;overflow:hidden;background-color:#e8e8e8;background-image:linear-gradient(90deg,transparent,rgba(255,255,255,.6),transparent);background-size:600px 100%;background-repeat:no-repeat;animation:_ngcontent-%COMP%_shimmer 1.5s ease-in-out infinite;color:transparent;-webkit-user-select:none;user-select:none;pointer-events:none}.skeleton-active[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{visibility:hidden}.skeleton-circle[_ngcontent-%COMP%]{border-radius:50%}.skeleton-rect[_ngcontent-%COMP%]{border-radius:6px}.skeleton-text[_ngcontent-%COMP%]{height:1em;min-width:4rem;border-radius:4px;display:inline-block}.skeleton-avatar[_ngcontent-%COMP%]{width:3rem;height:3rem;aspect-ratio:1;border-radius:50%}.skeleton-card[_ngcontent-%COMP%]{border-radius:8px;padding:1rem;min-height:8rem}.skeleton-button[_ngcontent-%COMP%]{height:3rem;min-width:4rem;border-radius:6px;display:inline-flex;align-items:center;justify-content:center}.skeleton-button.skeleton-circle[_ngcontent-%COMP%]{width:2.5rem;min-width:2.5rem;border-radius:50%}*[_ngcontent-%COMP%]:focus{outline:none}*[_ngcontent-%COMP%]:focus-visible{outline:2px solid var(--color-primary, #007bff);outline-offset:2px;border-radius:4px}button[_ngcontent-%COMP%]:focus-visible, a[_ngcontent-%COMP%]:focus-visible, input[_ngcontent-%COMP%]:focus-visible, select[_ngcontent-%COMP%]:focus-visible, textarea[_ngcontent-%COMP%]:focus-visible, [role=button][_ngcontent-%COMP%]:focus-visible, [role=link][_ngcontent-%COMP%]:focus-visible, [tabindex][_ngcontent-%COMP%]:focus-visible{outline:2px solid var(--color-primary, #007bff);outline-offset:2px;border-radius:4px;box-shadow:0 0 0 2px #007bff33}@media (prefers-contrast: high){*[_ngcontent-%COMP%]:focus-visible{outline:3px solid CanvasText;outline-offset:2px}}@media (prefers-reduced-motion: no-preference){*[_ngcontent-%COMP%]:focus-visible{transition:outline-color .15s ease-in-out,box-shadow .15s ease-in-out}}.skip-link[_ngcontent-%COMP%]{position:absolute;top:-100px;left:50%;transform:translate(-50%);background:var(--color-primary, #007bff);color:#fff;padding:8px 16px;text-decoration:none;border-radius:4px;font-weight:600;z-index:9999}.skip-link[_ngcontent-%COMP%]:focus{top:16px}.textarea-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem;border:none}.textarea-label[_ngcontent-%COMP%]{font-weight:500;font-size:.875rem;color:#374151}.textarea[_ngcontent-%COMP%]{border:1px solid #6b7280;transition:border-color .2s ease-in-out;border-radius:.5rem;padding:.5rem .75rem;font-size:1rem;resize:vertical;min-height:80px}.textarea[_ngcontent-%COMP%]:focus{outline:1px solid #f5d0a8;outline-offset:1px}.textarea.invalid[_ngcontent-%COMP%]{border-color:#dc2626}.textarea[_ngcontent-%COMP%]:disabled{background-color:#d1d5db;cursor:not-allowed;color:#4b5563}.textarea-error[_ngcontent-%COMP%]{color:#dc2626;padding:0 .75rem;font-size:.75rem}"],changeDetection:0})};function le(){let o={invalidUrl:!0};return t=>{let e=t.value?.trim();if(!e)return A(null);try{let n=new URL(e);return["http:","https:"].includes(n.protocol)?/\.(html|htm|php|asp|aspx|jsp|js|css|pdf|doc|docx|xls|xlsx|ppt|pptx|txt|xml|json|zip|rar|exe|dmg|mp4|avi|mov|mp3|wav|m4a)(\?.*)?$/i.test(n.pathname)?A(o):new U(a=>{let M=new Image,j=setTimeout(()=>{a.next(o),a.complete()},1e4);M.onload=()=>{clearTimeout(j),a.next(null),a.complete()},M.onerror=()=>{clearTimeout(j),a.next(o),a.complete()},M.src=e}):A(o)}catch{return A(o)}}}var se={DEFAULT_IMAGE:"assets/images/empty-image.jpg",BUTTON_COLOR:"primary"};var ce=class o{constants=se;height=150;width=Math.round(150*.79);fb=V(oe);data=c(null);categories=c.required();save=q();cancelForm=q();productForm=this.fb.group({title:["",[C.required,C.minLength(3)]],price:[0,[C.required,C.min(.01)]],category:["",C.required],image:new Y("",{validators:[C.required],asyncValidators:[le()],updateOn:"blur"}),description:["",[C.required,C.minLength(10)]]});categoryOptions=g(()=>{let t=this.categories();return!t||t.length===0?[{value:"",label:"Sem categorias dispon\xEDveis"}]:t.map(e=>({value:e,label:e.charAt(0).toUpperCase()+e.slice(1)}))});formTitle=g(()=>this.data()?"Editar Produto":"Adicionar Novo Produto");dataAction=g(()=>this.data()?"Salvar altera\xE7\xF5es":"Adicionar produto");constructor(){Z(()=>{let t=this.data();t?this.productForm.patchValue(t):this.productForm.reset()})}onSubmit(){if(this.productForm.invalid){this.productForm.markAllAsTouched();return}let t=this.productForm.getRawValue(),e=R(R({},this.data()||{}),t);this.save.emit(e)}onCancel(){this.cancelForm.emit()}getErrorMessage(t){let e=this.productForm.get(t);if(e?.invalid&&(e.dirty||e.touched)){if(e.errors?.required)return"Este campo \xE9 obrigat\xF3rio.";if(e.errors?.minlength)return"Deve ter mais caracteres.";if(e.errors?.min)return"O valor deve ser positivo.";if(e.errors?.invalidUrl)return"URL inv\xE1lida.";if(e.errors?.isZero)return"O valor n\xE3o pode ser zero."}return null}static \u0275fac=function(e){return new(e||o)};static \u0275cmp=v({type:o,selectors:[["app-form-manager"]],inputs:{data:[1,"data"],categories:[1,"categories"]},outputs:{save:"save",cancelForm:"cancelForm"},decls:12,vars:37,consts:[[1,"form-container"],[1,"form-manager",3,"ngSubmit","formGroup"],["formControlName","title",3,"id","label","type","placeholder","error"],["formControlName","price",3,"id","label","type","placeholder","error"],["formControlName","category",3,"label","placeholder","options","error"],["formControlName","image",3,"id","label","type","placeholder","error"],[1,"form-image-preview"],[3,"src","alt","width","height"],["formControlName","description",3,"label","placeholder","rows","error"],[1,"form-actions"],[3,"click","text","icon","color","size"],[3,"click","autoFocus","text","icon","color","size"]],template:function(e,n){if(e&1&&(d(0,"div",0)(1,"form",1),u("ngSubmit",function(){return n.onSubmit()}),w(2,"app-input",2)(3,"app-input",3)(4,"app-select",4)(5,"app-input",5),d(6,"div",6),w(7,"app-image",7),l(),w(8,"app-text-area",8),l(),d(9,"div",9)(10,"app-button",10),u("click",function(){return n.onSubmit()}),l(),d(11,"app-button",11),u("click",function(){return n.onCancel()}),l()()()),e&2){let i,a;r(),s("formGroup",n.productForm),r(),s("id","title")("label","T\xEDtulo")("type","text")("placeholder","Digite o t\xEDtulo do produto")("error",n.getErrorMessage("title")),r(),s("id","price")("label","Pre\xE7o (R$)")("type","currency")("placeholder","Digite o pre\xE7o do produto")("error",n.getErrorMessage("price")),r(),s("label","Categoria")("placeholder","Selecione uma categoria")("options",n.categoryOptions())("error",n.getErrorMessage("category")),r(),s("id","image")("label","URL da Imagem")("type","text")("placeholder","Digite uma URL v\xE1lida")("error",n.getErrorMessage("image")),r(2),s("src",((i=n.productForm.get("image"))==null?null:i.value)||n.constants.DEFAULT_IMAGE)("alt",((a=n.productForm.get("title"))==null?null:a.value)||"Preview da imagem do produto")("width",n.width)("height",n.height),r(),s("label","Descri\xE7\xE3o")("placeholder","Digite a descri\xE7\xE3o do produto")("rows",5)("error",n.getErrorMessage("description")),r(2),s("text","Salvar")("icon","check-double-fill")("color",n.constants.BUTTON_COLOR)("size","full"),r(),s("autoFocus",!0)("text","Cancelar")("icon","close-circle-line")("color","neutral")("size","full")}},dependencies:[ie,ee,J,W,te,ne,D,N,F,re,ae],styles:["@keyframes _ngcontent-%COMP%_shimmer{0%{background-position:-600px 0}to{background-position:600px 0}}.skeleton-active[_ngcontent-%COMP%]{position:relative;overflow:hidden;background-color:#e8e8e8;background-image:linear-gradient(90deg,transparent,rgba(255,255,255,.6),transparent);background-size:600px 100%;background-repeat:no-repeat;animation:_ngcontent-%COMP%_shimmer 1.5s ease-in-out infinite;color:transparent;-webkit-user-select:none;user-select:none;pointer-events:none}.skeleton-active[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{visibility:hidden}.skeleton-circle[_ngcontent-%COMP%]{border-radius:50%}.skeleton-rect[_ngcontent-%COMP%]{border-radius:6px}.skeleton-text[_ngcontent-%COMP%]{height:1em;min-width:4rem;border-radius:4px;display:inline-block}.skeleton-avatar[_ngcontent-%COMP%]{width:3rem;height:3rem;aspect-ratio:1;border-radius:50%}.skeleton-card[_ngcontent-%COMP%]{border-radius:8px;padding:1rem;min-height:8rem}.skeleton-button[_ngcontent-%COMP%]{height:3rem;min-width:4rem;border-radius:6px;display:inline-flex;align-items:center;justify-content:center}.skeleton-button.skeleton-circle[_ngcontent-%COMP%]{width:2.5rem;min-width:2.5rem;border-radius:50%}*[_ngcontent-%COMP%]:focus{outline:none}*[_ngcontent-%COMP%]:focus-visible{outline:2px solid var(--color-primary, #007bff);outline-offset:2px;border-radius:4px}button[_ngcontent-%COMP%]:focus-visible, a[_ngcontent-%COMP%]:focus-visible, input[_ngcontent-%COMP%]:focus-visible, select[_ngcontent-%COMP%]:focus-visible, textarea[_ngcontent-%COMP%]:focus-visible, [role=button][_ngcontent-%COMP%]:focus-visible, [role=link][_ngcontent-%COMP%]:focus-visible, [tabindex][_ngcontent-%COMP%]:focus-visible{outline:2px solid var(--color-primary, #007bff);outline-offset:2px;border-radius:4px;box-shadow:0 0 0 2px #007bff33}@media (prefers-contrast: high){*[_ngcontent-%COMP%]:focus-visible{outline:3px solid CanvasText;outline-offset:2px}}@media (prefers-reduced-motion: no-preference){*[_ngcontent-%COMP%]:focus-visible{transition:outline-color .15s ease-in-out,box-shadow .15s ease-in-out}}.skip-link[_ngcontent-%COMP%]{position:absolute;top:-100px;left:50%;transform:translate(-50%);background:var(--color-primary, #007bff);color:#fff;padding:8px 16px;text-decoration:none;border-radius:4px;font-weight:600;z-index:9999}.skip-link[_ngcontent-%COMP%]:focus{top:16px}.form-container[_ngcontent-%COMP%]{height:100%;display:flex;flex-direction:column;justify-content:space-between;margin-right:.5rem}.form-manager[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem;padding:1rem .5rem}.form-actions[_ngcontent-%COMP%]{display:flex;gap:.75rem;justify-content:center;flex-direction:column;margin-top:1rem}.form-image-preview[_ngcontent-%COMP%]{flex:1;width:100%;background-color:#9ca3af33;display:flex;align-items:center;justify-content:center;border-radius:.75rem;padding:1rem}"],changeDetection:0})};export{ce as FormManagerComponent};
